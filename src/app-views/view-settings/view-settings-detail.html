<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!--- ->
<!---->

<link rel="import" href="/bower_components/polymer/polymer-element.html">
<!--- ->
<link rel="import" href="dashboard-detail-zip.html">
<link rel="import" href="dashboard-detail-type.html">

<!-- custom elememts -->
<link rel="import" href="/src/custom-elements/geo-select/geo-select.html">
<link rel="import" href="/src/custom-elements/select-lead-type.html">
<link rel="import" href="/src/custom-elements/paper-item-zip/paper-item-zip.html">
<link rel="import" href="/src/app-forms/view-archive-detail.html">
<!--- ->
<link rel="import" href="/src/custom-elements/counties-by-zip/counties-by-zip.html">
<!---->

<!--- ->
Demos
https://gridbyexample.com/patterns/header-asmany-footer/
https://codepen.io/rachelandrew/pen/zwPEoX
<!---->

<dom-module id="view-settings-detail">

  <template>
    <style>

      /** /
      :host {
        --line-color: #DDDDDD;
        border-left: 1px var(--line-color) solid;
      }
      /**/

      #req-info > p:first-of-type {
        padding-top: 3em; 
      }

      #req-info > p {
        text-align: start;
        padding: 0.5em 2.5em;
        opacity: var(--opacity-dim);
      }

    </style>

    <!--- ->
		<dashboard-detail-zip></dashboard-detail-zip>
    <!--- ->
		<dashboard-detail-type></dashboard-detail-type>
    <!--- ->
    [[selected]]
    <!---->
    <view-archive-detail></view-archive-detail>
    <!--- ->
    <div hidden id="req-info">
      <p>
        We must filter your leads.
      </p>
      <p>
        Select your lead type and location.
      </p>
      <p>
        Then you can start swapping leads!
      </p>
    </div>
    <!--- ->
    <template restamp is="dom-if" if="[[selected]]=='lead-type'">
    <!---->
    <div hidden id="lead-type">
      <select-lead-type xon-lead-type-selected="_handleLeadTypeSelected"
                        selected="[[userLocal.lead-type]]"
                        >
      </select-lead-type>
    </div>
    <!--- ->
    </template>
    <template restamp is="dom-if" if="[[selected]]=='user-location'">
    <!---->
    <div hidden id="user-location">
      <geo-select xon-geo-select-valid="_handleGeoSelectValid"
                  xgeo-country="[[userLocal.geo-select-country]]"
                  xgeo-region="[[userLocal.geo-select-region]]"
                  xgeo-location="[[userLocal.geo-select-location]]"
                  >
      </geo-select>
    </div>
    <!--- ->
    </template>
    <!---->
    
  </template>

  <script>

    class ViewSettingsDetail extends Polymer.Element {

      static get is() { return 'view-settings-detail'; }

      static get properties() { return {
				
        // mediaWidth: {
				// 	 type: Number, // 0, 1, 2, 3
				// 	 notify: true,
				// 	 //observer: '_mediaWidthChanged',
				// },
        
        selected: {
          type: String,
          notify: true,
          observer: '_selectedChanged',
        },
        
        userLocal: {
      		type: Object,
					notify: true,
          // observer: '_userLocalChanged',
        },

      }}
      
      constructor() {
        super();
      }
			
			ready() {
        super.ready();
				//console.log('Component Ready');
			}

      _selectedChanged(sNew, sOld) {
        // console.log('s-old', sOld);
        // console.log('s-new', sNew);

        // without dom-if

        if(sOld) this.$[sOld].hidden = true;
        if(sNew) this.$[sNew].hidden = false;

        // using dom-if

        // const selectorSold = '#' + sOld;
        // const selectorSnew = '#' + sNew;
        // // if(sOld) this.$$(selectorSold).hidden = true;
        // // if(sNew) this.$$(selectorSnew).hidden = false;
        // if(sOld) this.root.querySelector(selectorSold).hidden = true;
        // if(sNew) this.root.querySelector(selectorSnew).hidden = false;
      }

      // _handleLeadTypeSelected(e) {
      //   console.log('lead-type-selected\n', e);
      //   const data = e.detail;
      //   this._dispatchEvent('app-settings-changed', data);
      // }

      // _handleGeoSelectValid(e) {
      //   console.log('geo-select-valid\n', e);
      //   const data = e.detail;
      //   this._dispatchEvent('app-settings-changed', data);
      // }

		  // _dispatchEvent(name, data) {
			// 	const n = name;
			// 	const o = {
			// 	  bubbles: true,
			// 		composed: true,
			// 		detail: data,
			// 	};
			// 	//console.log('o\n', o);
			// 	const d = new CustomEvent(n, o);
			// 	//console.log('d\n', d);
			// 	this.dispatchEvent(d);				
      // }
		
    }

    customElements.define(ViewSettingsDetail.is, ViewSettingsDetail);

  </script>

</dom-module>
